<?xml version="1.0" encoding="UTF-8"?>
<Export generator="Cache" version="25">
<Class name="Forum.Post">
<Description>
Class of objects
Object of this class are posts from forum with next properties
ExtID - ID that uses on sql.ru, that is unique for every topics
ThemeType - type of topic; like messege, cry, question e.t.c.
Theme - the name of the topic
Author - account of topic starter
Comments - number of comments left in topic
Views - views of topic
LastComDate - date of latest comment in topic</Description>
<Super>%Persistent</Super>
<TimeCreated>63763,57010.038856</TimeCreated>

<Property name="ExtID">
<Type>%Integer</Type>
<Required>1</Required>
</Property>

<Index name="ExtIDIndex">
<Properties>ExtID</Properties>
<Unique>1</Unique>
</Index>

<Property name="ThemeType">
<Type>%String</Type>
</Property>

<Property name="Theme">
<Type>%String</Type>
<Required>1</Required>
<Parameter name="MAXLEN" value="150"/>
</Property>

<Index name="ThemeIndex">
<Properties>Theme</Properties>
</Index>

<Property name="Author">
<Type>%String</Type>
<Required>1</Required>
</Property>

<Index name="AuthorIndex">
<Properties>Author</Properties>
</Index>

<Property name="Comments">
<Type>%Integer</Type>
<Required>1</Required>
</Property>

<Property name="Views">
<Type>%Integer</Type>
<Required>1</Required>
</Property>

<Property name="LastComDate">
<Type>%String</Type>
<Required>1</Required>
</Property>

<Index name="LastComDateIndex">
<Properties>LastComDate</Properties>
</Index>

<Method name="TopicAdd">
<Description>
Add new topic with properties in list prop</Description>
<ClassMethod>1</ClassMethod>
<FormalSpec>prop:%List</FormalSpec>
<ReturnType>%Status</ReturnType>
<Implementation><![CDATA[
	s newThemeObj=..%New()
	s newThemeObj.ThemeType = $list(prop,1)
	s newThemeObj.Theme = $list(prop,2)
	s newThemeObj.ExtID = $list(prop,3)
	s newThemeObj.Author = $list(prop,4)
	s newThemeObj.Comments = $list(prop,5)
	s newThemeObj.Views = $list(prop,6)
	s newThemeObj.LastComDate = $list(prop,7)
	s status = newThemeObj.%Save()
	w $system.Status.DisplayError(status)
	Q status
]]></Implementation>
</Method>
</Class>
</Export>
